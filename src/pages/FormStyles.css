/* الصفحة */
.ap-page {
  width: 100%;
  max-width: none;
  margin: 0;
  padding: 0;
}

/* العناوين */
.ap-hero { margin: 0 0 12px; padding: 0 12px; }
.ap-hero__title { font-weight: 800; font-size: 1.6rem; color: #e5e7eb; margin: 0; }
.ap-hero__sub { color: #94a3b8; margin: .25rem 0 0; }

/* البطاقة */
.ap-card {
  margin: 0;
  background: rgba(255,255,255,.06);
  backdrop-filter: saturate(1.2) blur(6px);
  border: 1px solid rgba(226,232,240,.14);
  border-radius: 20px;
  box-shadow: 0 10px 30px rgba(0,0,0,.18);
}
.ap-card__head {
  display: flex; justify-content: space-between; align-items: center;
  padding: 12px 16px; border-bottom: 1px solid rgba(226,232,240,.14);
  font-weight: 700; color: #e2e8f0;
}
.ap-card__body { padding: 16px; }
.ap-note { font-size: .9rem; color: #9aa6b2; }

/* شبكة النموذج */
.ap-form {
  display: grid;
  grid-template-columns: repeat(2, minmax(0,1fr));
  gap: 12px 14px;
  margin-top: 10px;
}
.ap-span-2 { grid-column: 1 / -1; }

.ap-field { display: flex; flex-direction: column; gap: .35rem; }
.ap-field label { font-size: .95rem; color: #cbd5e1; font-weight: 700; }

/* الإدخال */
.ap-input {
  height: 44px;
  padding: 0 .9rem;
  border: 1px solid rgba(226,232,240,.22);
  border-radius: 12px;
  background: rgba(15,23,42,.85);
  color: #e2e8f0;
}

/* placeholders بالعربية يمين افتراضياً */
.ap-input::placeholder {
  direction: rtl;
  text-align: right;
  color: #94a3b8;
}
/* استثناءات: البريد والهاتف تبقى LTR */
.ap-field input[type="email"]::placeholder,
.ap-field input[type="tel"]::placeholder {
  direction: ltr;
  text-align: left;
}

/* الحاوية */
.ap-input-wrap {
  position: relative;
  display: flex;
  align-items: center;
}
.ap-input-wrap .ap-input {
  width: 100%;
  padding-inline-end: 38px; /* مساحة للأيقونة */
}

/* زر العين */
.ap-eye {
  position: absolute;
  inset-inline-end: 8px;
  top: 50%;
  transform: translateY(-50%);
  display: grid;
  place-items: center;
  border: 0;
  background: transparent;
  color: #94a3b8;
  cursor: pointer;
  font-size: 18px;
  line-height: 1;
  padding: 0;
}
.ap-eye:hover { color: #cbd5e1; }

/* الراديو */
.ap-radio {
  display: flex; align-items: center; gap: 1.25rem;
  height: 44px; padding: .5rem .25rem;
}
.ap-radio label { display: flex; align-items: center; gap: .5rem; color: #cbd5e1; }
.ap-radio input { accent-color: #10b981; }

/* أبناء ولي الأمر */
.ap-section { margin-top: .5rem; }
.ap-section__head {
  display: flex; align-items: center; justify-content: space-between;
  margin-bottom: .5rem; padding-inline: 2px;
}
.ap-section__head h3 {
  margin: 0; font-size: 1rem; color: #e2e8f0; font-weight: 800;
}
.ap-kids {
  display: grid; gap: .8rem;
  grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
}
.ap-kid {
  border: 1px solid rgba(226,232,240,.22);
  border-radius: 14px;
  padding: .9rem;
  background: rgba(15,23,42,.6);
  display: grid; gap: .5rem;
}
.ap-avatar {
  display: grid; grid-template-columns: 72px 1fr;
  gap: .6rem; align-items: center;
}
.ap-avatar img, .ap-avatar__ph {
  width: 72px; height: 72px; border-radius: 14px;
  background: #0b1324; color: #e2e8f0;
  display: grid; place-items: center;
  font-size: 28px;
  border: 1px solid rgba(226,232,240,.22);
}
.ap-upload {
  display: inline-grid; place-items: center;
  height: 36px; padding: 0 .75rem;
  border-radius: 10px;
  background: #0b1324; color: #10b981;
  border: 1px solid rgba(16,185,129,.45);
  cursor: pointer; font-size: .85rem;
}
.ap-upload input { display: none; }

/* الأزرار */
.ap-btn {
  height: 40px; padding: 0 .9rem; border-radius: 12px;
  border: 1px solid rgba(203,213,225,.28);
  background: #0b1324; color: #e2e8f0;
}
.ap-btn--soft { background: rgba(16,185,129,.12); border-color: rgba(16,185,129,.35); color: #22c55e; }
.ap-btn--primary { background: #10b981; color: #0b1220; border-color: #059669; }
.ap-btn--danger { background: #fee; color: #c33; border-color: #f6c; }
.ap-actions {
  display: flex; gap: .6rem; align-items: center;
  justify-content: flex-end; margin-top: .25rem;
}

/* الاستجابة */
@media (max-width: 1024px) {
  .ap-form { grid-template-columns: 1fr; }
  .ap-card__body { padding: 12px; }
}

/* الأخطاء */
.ap-invalid {
  border-color: #ef4444 !important;
  box-shadow: 0 0 0 3px rgba(239,68,68,.12);
}
.ap-error { color: #fca5a5; font-size: .85rem; margin-top: 4px; }
.ap-success { color: #86efac; font-size: .9rem; }

/* النجمة */
.ap-required {
  color: #f87171;
  margin-right: 4px;
  font-weight: 700;
}
.ap-files {
  display: grid;
  gap: .5rem;
  margin-top: .5rem;
}
.ap-file-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: rgba(15,23,42,.6);
  border: 1px solid rgba(226,232,240,.22);
  border-radius: 10px;
  padding: .5rem .75rem;
  font-size: .9rem;
  color: #e2e8f0;
}
.ap-file-item button {
  height: 28px;
  padding: 0 .6rem;
  font-size: .8rem;
}
/* === Login page (مركز في الشاشة + واضح) === */
.login-page{
  min-height: 100dvh;
  display: grid;
  place-items: center;
  background: linear-gradient(180deg,#0b1220,#0f172a);
  padding: 16px;
}

.login-card{
  width: 100%;
  max-width: 420px;
  background: #0f172a;
  border: 1px solid #2b3a4c;
  border-radius: 16px;
  padding: 20px;
  color: #e5e7eb;
  box-shadow: 0 24px 70px rgba(0,0,0,.35);
}

.login-head{ text-align:center; margin-bottom: 14px; }
.login-head .logo{
  width: 48px; height: 48px; border-radius: 12px;
  display: grid; place-items: center; margin: 0 auto 8px;
  background: linear-gradient(135deg,#10b981,#0ea5e9); color: #fff;
  box-shadow: 0 6px 14px rgba(16,185,129,.25);
}
.login-head h2{ margin:0; font-weight:800; }
.login-head .sub{ margin:6px 0 0; color:#94a3b8; font-size:12px; }

.login-label{ display:block; font-size:12px; color:#cbd5e1; margin:8px 2px 6px; }

.login-input{
  width: 100%;
  background: #0b1324;
  border: 1px solid #2b3a4c;
  color: #e5e7eb;
  border-radius: 12px;
  padding: 10px 12px;
  outline: none;
}
.login-input:focus{
  border-color: #34d399;
  box-shadow: 0 0 0 3px rgba(52,211,153,.2);
}

.login-input-wrap{ position: relative; }
.login-input-wrap .login-input{ padding-inline-end: 38px; }

.login-eye{
  position: absolute;
  inset-inline-end: 6px;
  top: 50%;
  translate: 0 -50%;
  height: 30px; width: 30px;
  border-radius: 8px;
  border: 1px solid #2b3a4c;
  background: #0f172a;
  color: #e5e7eb;
  display: grid; place-items: center;
  cursor: pointer;
}
.login-eye:hover{ background: #121b31; }

.login-btn{
  margin-top: 14px;
  width: 100%;
  background: linear-gradient(90deg,#10b981,#34d399);
  color: #06221a;
  border: 0;
  border-radius: 12px;
  font-weight: 800;
  padding: 10px 12px;
  cursor: pointer;
}
.login-btn:hover{ filter: brightness(1.05); }
/* ==== Responsive Modal that respects the sidebar width ==== */

/* هذه متغيّرات العرض الافتراضية للشريط */
:root{
  --sb-open-w: 300px;   /* عرض الشريط عندما يكون مفتوحاً */
  --sb-rail-w:  84px;   /* عرض شريط الـ rail */
  --sb-hidden-w: 0px;   /* مخفي */
  --modal-hpad: 24px;   /* هوامش جانبية للـ modal */
}

/* Sidebar.jsx يضع data-sb على <html> = open | rail | hidden */
html[data-sb="open"]  { --sb-w: var(--sb-open-w); }
html[data-sb="rail"]  { --sb-w: var(--sb-rail-w); }
html[data-sb="hidden"]{ --sb-w: var(--sb-hidden-w); }

/* الغطاء */
.ap-modal {
  position: fixed;
  inset: 0;
  z-index: 60; /* فوق الشريط */
  display: grid;
  place-items: center;
  background: rgba(10, 14, 25, .55); /* تظليل الخلفية */
  backdrop-filter: blur(2px);
  padding: 20px; /* تنفّس على الحواف */
}

/* اللوحة */
.ap-modal__panel{
  width: 100%;
  /* العرض الأقصى يحترم الشريط الجانبي + هوامش المودال */
  max-width: calc(100vw - var(--sb-w) - (var(--modal-hpad) * 2));
  /* بدل السطر أعلاه يمكنك استعمال clamp لضمان حد أدنى/أقصى أنيق: */
  max-width: clamp(320px,
                   calc(100vw - var(--sb-w) - (var(--modal-hpad) * 2)),
                   980px);

  border-radius: 16px;
  background: #0f1729;               /* لون اللوحة */
  border: 1px solid rgba(255,255,255,.08);
  box-shadow: 0 24px 80px rgba(0,0,0,.35);
  overflow: hidden;
}

/* جسم اللوحة الداخلي */
.ap-modal__body{
  padding: 18px;
  max-height: min(84vh, 860px);
  overflow: auto;
}

/* رأس اللوحة (عنوان + إغلاق) — اختياري */
.ap-modal__head{
  display: flex; align-items: center; gap: 8px;
  padding: 14px 18px;
  background: linear-gradient(90deg,#5B65F6 0%, #7B4DE3 50%, #1BAF6B 100%);
  color: #fff; font-weight: 700;
}
.ap-modal__close{
  margin-inline-start: auto;
  appearance: none;
  border: 0; background: transparent; color: #fff;
  opacity: .9; cursor: pointer;
}

/* شبكة الحقول داخل الفورم: عمودان على الشاشات العريضة، عمود على الضيقة */
.ap-form-grid{
  display: grid;
  grid-template-columns: repeat(2, minmax(260px, 1fr));
  gap: 12px;
}
@media (max-width: 880px){
  .ap-form-grid{ grid-template-columns: 1fr; }
}

/* حقول/تلميحات الجماليات */
.ap-field{
  display: flex; flex-direction: column; gap: 6px;
}
.ap-field label{
  font-size: 13px; color: #cbd5e1;
}
.ap-field input, .ap-field select, .ap-field textarea{
  width: 100%;
  background: rgba(255,255,255,.04);
  border: 1px solid rgba(255,255,255,.08);
  color: #e5e7eb;
  padding: 10px 12px;
  border-radius: 10px;
  outline: none;
}
.ap-field input::placeholder,
.ap-field textarea::placeholder{ color: #8ea0b6; }

/* أزرار أسفل المودال */
.ap-modal__actions{
  display: flex; gap: 10px; justify-content: flex-end;
  padding: 12px 18px 18px;
  border-top: 1px solid rgba(255,255,255,.06);
  background: linear-gradient(180deg, rgba(255,255,255,.02), transparent);
}
.ap-btn{ padding: 10px 14px; border-radius: 10px; border: 0; cursor: pointer; }
.ap-btn--primary{ background:#16A34A; color:#fff; }
.ap-btn--ghost{ background:transparent; color:#cbd5e1; border:1px solid rgba(255,255,255,.12); }

/* اختيار متعدد منسدِل أنيق (لو كنت تستعمله للمرحلة/الفئات) */
.ap-multiselect{
  position: relative;
}
.ap-multiselect__trigger{
  display:flex; align-items:center; justify-content:space-between;
  width:100%; padding:10px 12px; border-radius:10px;
  background: rgba(255,255,255,.04);
  border: 1px solid rgba(255,255,255,.08);
  color:#e5e7eb; cursor:pointer;
}
.ap-multiselect__menu{
  position:absolute; inset-inline:0; top: calc(100% + 6px);
  background:#0b1220; border:1px solid rgba(255,255,255,.08);
  border-radius:12px; padding:8px; z-index: 61; /* فوق panel */
  max-height: 260px; overflow:auto;
  box-shadow: 0 12px 40px rgba(0,0,0,.35);
}
.ap-multiselect__item{
  display:flex; align-items:center; gap:8px; padding:8px 10px;
  color:#e5e7eb; border-radius:8px; cursor:pointer;
}
.ap-multiselect__item:hover{ background: rgba(255,255,255,.05); }
